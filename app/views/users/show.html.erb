<%= render "header" %>

<main class="app-main">
  <p class="subtitlemd">マイページ</p>

  <%= form_with model: @user, url: user_path(@user), method: :patch, local: true do |form| %>
    <% if @user.errors.any? %>
      <div class="error-flash closeable-error" id="error-flash">
        <button type="button" id="close-error" class="close-btn">×</button>
        <ul>
          <% @user.errors.full_messages.each do |msg| %>
            <li><%= message %></li>
          <% end %>
        </ul>
      </div>
    <% end %>

    <div class="form-group">
      <%= form.label :name, "ユーザー名：" %>
      <%= form.text_field :name, class: 'form-control input-field' %>
    </div>
    
    <p class="bodysm">
      メールアドレス： <%= @user.email %>
    </p>

    <div class="btn-l btn-btm">
      <%= form.submit "プロファイルを編集する", class: 'btn' %>
      <%= link_to "ホームに戻る", home_path, class: 'btn' %>
    </div>
  <% end %> 
</main>

<footer class="app-footer">
  <p>© 2025 Tottoku</p>
</footer>